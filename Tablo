CREATE TABLE SUBELER (
    SUBE_ID NUMBER DEFAULT SUBELER_SEQ.NEXTVAL NOT NULL,
    SUBE_AD VARCHAR2(100) NOT NULL,
    ADRES VARCHAR2(255),
    SEHIR VARCHAR2(50),
    CONSTRAINT PK_SUBELER PRIMARY KEY (SUBE_ID)
)
TABLESPACE GALERI_DATA_TS;

CREATE TABLE MARKA_TANIMLARI (
    MARKA_ID NUMBER DEFAULT MARKA_TANIMLARI_SEQ.NEXTVAL NOT NULL,
    MARKA_AD VARCHAR2(100) NOT NULL UNIQUE,
    CONSTRAINT PK_MARKA_TANIMLARI PRIMARY KEY (MARKA_ID)
)
TABLESPACE GALERI_DATA_TS;

CREATE TABLE MODEL_TANIMLARI (
    MODEL_ID NUMBER DEFAULT MODEL_TANIMLARI_SEQ.NEXTVAL NOT NULL,
    MARKA_ID NUMBER NOT NULL,
    MODEL_AD VARCHAR2(100) NOT NULL,
    CONSTRAINT PK_MODEL_TANIMLARI PRIMARY KEY (MODEL_ID),
    CONSTRAINT FK_MODEL_MARKA FOREIGN KEY (MARKA_ID) REFERENCES MARKA_TANIMLARI(MARKA_ID),
    CONSTRAINT UNQ_MODEL_MARKA UNIQUE (MARKA_ID, MODEL_AD)
)
TABLESPACE GALERI_DATA_TS;

CREATE TABLE CALISANLAR (
    CALISAN_ID NUMBER DEFAULT CALISANLAR_SEQ.NEXTVAL NOT NULL,
    AD VARCHAR2(50) NOT NULL,
    SOYAD VARCHAR2(50) NOT NULL,
    SUBE_ID NUMBER NOT NULL,
    UNVAN VARCHAR2(100),
    TELEFON VARCHAR2(20),
    EPOSTA VARCHAR2(100),
    TOPLAM_SATIS_ADET NUMBER DEFAULT 0 NOT NULL,
    KUMUL_SATIS_CIROS NUMERIC(18,2) DEFAULT 0.00 NOT NULL,
    CONSTRAINT PK_CALISANLAR PRIMARY KEY (CALISAN_ID),
    CONSTRAINT FK_CALISAN_SUBE FOREIGN KEY (SUBE_ID) REFERENCES SUBELER(SUBE_ID)
)
TABLESPACE GALERI_DATA_TS;

CREATE TABLE MUSTERILER (
    MUSTERI_ID NUMBER DEFAULT MUSTERILER_SEQ.NEXTVAL NOT NULL,
    AD VARCHAR2(50) NOT NULL,
    SOYAD VARCHAR2(50) NOT NULL,
    TELEFON VARCHAR2(20),
    EPOSTA VARCHAR2(100),
    ADRES VARCHAR2(255),
    TC_KIMLIK_NO VARCHAR2(11) UNIQUE,
    CONSTRAINT PK_MUSTERILER PRIMARY KEY (MUSTERI_ID)
)
TABLESPACE GALERI_DATA_TS;

CREATE TABLE FATURALAR (
    FATURA_ID NUMBER DEFAULT FATURALAR_SEQ.NEXTVAL NOT NULL,
    SATIS_ID NUMBER UNIQUE,
    FATURA_NO VARCHAR2(50) NOT NULL UNIQUE,
    FATURA_TARIH DATE DEFAULT SYSDATE NOT NULL,
    KDV_ORANI NUMBER(5, 2) NOT NULL,
    TOPLAM_TUTAR NUMBER(18, 2) NOT NULL,
    ODEME_DURUM VARCHAR2(50) DEFAULT 'Bekleniyor' NOT NULL,
    CONSTRAINT PK_FATURALAR PRIMARY KEY (FATURA_ID)
)
TABLESPACE GALERI_DATA_TS;

CREATE TABLE STOK_UYARI_LOG (
    UYARI_ID NUMBER DEFAULT STOK_UYARI_LOG_SEQ.NEXTVAL NOT NULL,
    UYARI_TARIH TIMESTAMP DEFAULT SYSTIMESTAMP NOT NULL,
    MARKA_ID NUMBER NOT NULL,
    MODEL_ID NUMBER NOT NULL,
    MEVCUT_STOK NUMBER NOT NULL,
    UYARI_MESAJI VARCHAR2(500) NOT NULL,
    SUBE_ID NUMBER NOT NULL,
    CONSTRAINT PK_UYARI_LOG PRIMARY KEY (UYARI_ID),
    CONSTRAINT FK_UYARI_MARKA FOREIGN KEY (MARKA_ID) REFERENCES MARKA_TANIMLARI(MARKA_ID),
    CONSTRAINT FK_UYARI_MODEL FOREIGN KEY (MODEL_ID) REFERENCES MODEL_TANIMLARI(MODEL_ID),
    CONSTRAINT FK_UYARI_SUBE FOREIGN KEY (SUBE_ID) REFERENCES SUBELER(SUBE_ID)
)
TABLESPACE GALERI_DATA_TS;

CREATE TABLE POTANSIYEL_MUSTERILER (
    LEAD_ID NUMBER DEFAULT POTANSIYEL_MUSTERILER_SEQ.NEXTVAL NOT NULL,
    AD VARCHAR2(50) NOT NULL,
    SOYAD VARCHAR2(50) NOT NULL,
    TELEFON VARCHAR2(20),
    EPOSTA VARCHAR2(100),
    ILGILENDIGI_ARAC_ID NUMBER, -- Bu sütun daha sonra ARAÇLAR tablosuyla ilişkilendirilecek
    LEAD_OLUSMA_TARIHI DATE DEFAULT SYSDATE NOT NULL,
    KAYNAK VARCHAR2(50),
    DURUM VARCHAR2(50) DEFAULT 'Yeni' NOT NULL,
    MUSTERI_ID NUMBER,
    CONSTRAINT PK_POTANSIYEL_MUSTERILER PRIMARY KEY (LEAD_ID),
    CONSTRAINT FK_LEAD_MUSTERI FOREIGN KEY (MUSTERI_ID) REFERENCES MUSTERILER(MUSTERI_ID)
)
TABLESPACE GALERI_DATA_TS;

CREATE TABLE VADE_ORANLARI (
    TAKSIT_SAYISI NUMBER NOT NULL,
    VADE_FARKI_ORANI NUMBER(5, 2) NOT NULL, -- Örneğin, 1.05 = %5 vade farkı
    CONSTRAINT PK_VADE_ORAN PRIMARY KEY (TAKSIT_SAYISI)
);
